<configuration>
    <springProperty scope="context" name="SpringAppName" source="spring.application.name" defaultValue="bio-project" />
    <springProperty scope="context" name="SpringAppPort" source="server.port" defaultValue="8080" />
    <property name="FILENAME" value="${SpringAppName}-${SpringAppPort}" />

<!--    <appender class="ch.qos.logback.core.rolling.RollingFileAppender" name="JSON-FILE">-->
<!--        <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">-->
<!--            <providers>-->
<!--                <pattern>-->
<!--                    <pattern>-->
<!--                        {-->
<!--                        "timestamp": "%d{yyyy-MM-dd'T'HH:mm:ss.nnnnnnnnXXX}",-->
<!--                        "level": "%level",-->
<!--                        "logger": "%50.50logger",-->
<!--                        "thread": "%15.15thread",-->
<!--                        "application": "${SpringAppName}",-->
<!--                        "port": "${SpringAppPort}",-->
<!--                        "message": "%d{yyyy-MM-dd HH:mm:ss.SSS} [%15.15thread] [%mdc] | %5.5level %50.50logger | - %msg %ex{full}",-->
<!--                        "mdc": "%mdc"-->
<!--                        }-->
<!--                    </pattern>-->
<!--                </pattern>-->
<!--            </providers>-->
<!--        </encoder>-->

<!--        <file>/var/log/app/${FILENAME}.json.log</file>-->

<!--        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">-->
<!--            <fileNamePattern>-->
<!--                /var/log/app/${SpringAppName}-%d{yyyy-MM-dd}-${SpringAppPort}.%i.json.log.gz-->
<!--            </fileNamePattern>-->
<!--            &lt;!&ndash; 2 days to keep &ndash;&gt;-->
<!--            <maxHistory>2</maxHistory>-->
<!--            <totalSizeCap>500MB</totalSizeCap>-->
<!--            <maxFileSize>250MB</maxFileSize>-->
<!--        </rollingPolicy>-->
<!--    </appender>-->

    <appender name="CMD" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>
                %d{yyyy-MM-dd HH:mm:ss.SSS} [%15.15thread] [%mdc] | %5.5level %50.50logger | - %msg%n
            </pattern>
        </encoder>
    </appender>

<!--    <appender name="EUREKA_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">-->
<!--        <file>eureka.log</file>-->
<!--        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">-->
<!--            <fileNamePattern>eureka.%d{yyyy-MM-dd}.log</fileNamePattern>-->
<!--            <maxHistory>30</maxHistory>-->
<!--        </rollingPolicy>-->
<!--        <encoder>-->
<!--            <pattern>%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n</pattern>-->
<!--        </encoder>-->
<!--    </appender>-->

<!--    <logger name="com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver" level="INFO" additivity="false">-->
<!--        <appender-ref ref="EUREKA_FILE" />-->
<!--    </logger>-->

    <root level="info">
        <!--    <appender-ref ref="FILE"/>-->
<!--        <appender-ref ref="JSON-FILE" />-->
        <appender-ref ref="CMD" />
    </root>
</configuration>